.\" Man page generated from reStructuredText.
.
.TH "TOMAHAWK-RSYNC" "1" "April 17, 2014" "0.7.0" "tomahawk"
.SH NAME
tomahawk-rsync \- enables to copy files to many hosts
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
\fBtomahawk\-rsync\fP [\fIoptions\fP] source destination
.SH DESCRIPTION
.sp
\fBtomahawk\-rsync\fP is a program that enables to copy files <into/from> many hosts.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ tomahawk\-rsync \-h host1,host2,host3 test.py /tmp/test.py
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\-\-\-> \(aqtest.py\(aq is copied to host1, host2 and host3.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ tomahawk\-rsync \-f web.list /usr/local/apache2/conf/httpd.conf /tmp/httpd.conf
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\-\-\-> \(aqhttpd.conf\(aq is copied to hosts which listed in \(aqweb.list\(aq.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ tomahawk\-rsync \-h host1,host2 \-m pull /usr/local/apache2/conf/httpd.conf /tmp/conf/
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\-\-\-> \(aqhttpd.conf\(aq is copied from host1 and host2 to local directory /tmp/conf as \(aqhost1__httpd.conf\(aq and \(aqhost2__httpd.conf\(aq.
.SS rsync
.sp
tomahawk\-rsync copies files via \(aqrsync\(aq. You can specify options for rsync with \-o/\-\-rsync\-ooptions.
.SH OPTIONS
.sp
These programs follow the usual GNU command line syntax, with long options starting with two dashes (\(aq\-\-\(aq).
A summary of options is included below.
For a complete description, see the Info files.
.SS \-H, \-\-hosts
.sp
Specifies host names for sending commands. You can specify multiple hosts with \(aq,\(aq.
.SS \-f, \-\-hosts\-files
.sp
Specifies hosts files which listed host names for sending commands.
You can specify multiple hosts files with \(aq,\(aq.
.sp
Format of hosts file is below.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
web01
web02
#web03
web04
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
A line of starting with \(aq#\(aq disables a host.
.SS \-l, \-\-prompt\-login\-password
.sp
Prompts a password for ssh authentication of rsync at first. If the password is all the same between target hosts, you\(aqll input a password just once.
.SS \-c, \-\-continue\-on\-error
.sp
Continues to send commands even if any errors.
The default behavior is fail\-safe, means that tomahawk will stop if any errors.
.SS \-p, \-\-parallel
.sp
Specifies a number of processes for parallel command execution. (default: 1)
If your machine has many cpu cores, \-\-parallel 2 .. N might be faster.
.SS \-t, \-\-timeout
.sp
Specifies timeout seconds for a command.
.SS \-F, \-\-output\-format
.sp
Specifies command output format.
The default is \fI\%\(aq${user}@${host\fP} % ${command}n${output}n\(aq
.SS \-u, \-\-rsync\-user
.sp
Specifies rsync user. The default is a current logged in user.
.SS \-o, \-\-rsync\-options
.sp
Specifies rsync options. The default is \(aq\-av\(aq
.SS \-m, \-\-mirror\-mode
.sp
Selection of \(aqpush\(aq or \(aqpull\(aq.
\(aqpull\(aq means copy files from remote to local. The default is \(aqpush\(aq.
.SS \-C, \-\-conf
.sp
Specifies configuration file path. For additional information, see \fIomit\-command\-line\-options\fP
.SH ENVIRONMENT VARIABLES
.sp
tomahawk\(aqs behavior is affected by the following environment variables.
.SS TOMAHAWK_ENV
.sp
This variable specifies an environment of \(aqproduction\(aq, \(aqtesting\(aq or \(aqdevelopment\(aq. If TOMAHAWK_ENV=production specified, \fItomahawk\fP or \fItomahawk\-rsync\fP prompt as "command "%s" will be executed %s hosts. Are you sure? [yes/NO]: ". The environment variable exists for mis\-execution of a command.
.SH SEE ALSO
.INDENT 0.0
.IP \(bu 2
\fItomahawk(1)\fP
.IP \(bu 2
\fIssh(1)\fP
.IP \(bu 2
\fIrsync(1)\fP
.UNINDENT
.SH AUTHOR
Kazuhiro Oinuma, Kohei Maeda
.SH COPYRIGHT
2011-2014, Kazuhiro Oinuma
.\" Generated by docutils manpage writer.
.
