.TH "TOMAHAWK-ALL" "1" "March 04, 2012" "0.5.0" "tomahawk"
.SH NAME
tomahawk-all \- tomahawk manual
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.\" Man page generated from reStructeredText.
.
.SH WHAT IS TOMAHAWK?
.sp
tomahawk enables following 3 things.
.INDENT 0.0
.IP \(bu 2
Executes a command into many remote hosts
.IP \(bu 2
Copy files to many remote hosts
.IP \(bu 2
Copy files from remote hosts to local
.UNINDENT
.SS Executes a command into many remote hosts
.sp
\fBtomahawk\fP is a program that enables to execute a command into many hosts.
.sp
.nf
.ft C
$ tomahawk \-h host1,host2,host3 uptime
.ft P
.fi
.sp
\-\-\-> "uptime" command will be executed in host1, host2, and host3 with following output.
.sp
.nf
.ft C
oinume@host1 % uptime
22:41:27 up 10 days,  3:26,  1 users,  load average: 1.11, 1.13, 1.11

oinume@host2 % uptime
22:41:28 up 20 days,  4:26,  2 users,  load average: 2.11, 2.13, 2.11

oinume@host3 % uptime
22:41:29 up 30 days,  5:26,  3 users,  load average: 3.11, 3.13, 3.11
.ft P
.fi
.SS Copy files to many remote hosts or copy files from remote hosts to local
.sp
\fBtomahawk\-rsync\fP is a program that enables to copy files <into/from> many hosts.
.sp
.nf
.ft C
$ tomahawk\-rsync \-h host1,host2,host3 test.py /tmp/test.py
.ft P
.fi
.sp
\-\-\-> "test.py" is copied to host1, host2 and host3.
.sp
.nf
.ft C
$ tomahawk\-rsync \-f web.list /usr/local/apache2/conf/httpd.conf /tmp/httpd.conf
.ft P
.fi
.sp
\-\-\-> "httpd.conf" is copied to hosts which listed in "web.list".
.sp
.nf
.ft C
$ tomahawk\-rsync \-h host1,host2 \-m pull /usr/local/apache2/conf/httpd.conf /tmp/conf/
.ft P
.fi
.sp
\-\-\-> "httpd.conf" is copied from host1 and host2 to local directory /tmp/conf as "host1__httpd.conf" and "host2__httpd.conf".
.SH CONTENTS:
.SS How to install tomahawk
.SS Requirements
.INDENT 0.0
.IP \(bu 2
python >= 2.4
.IP \(bu 2
argparse
.IP \(bu 2
multiprocessing (required only with python < 2.6)
.IP \(bu 2
pexpect
.IP \(bu 2
nose (required when testing)
.UNINDENT
.SS Installation
.sp
tomahawk distributions is in the \fI\%pypi\fP, so the easiest way is using pip or easy_install
.sp
.nf
.ft C
$ sudo pip install tomahawk
.ft P
.fi
.sp
or
.sp
.nf
.ft C
$ sudo easy_install tomahawk
.ft P
.fi
.sp
Or you can use traditional way
.sp
.nf
.ft C
$ tar xvzf tomahawk\-x.y.z.tar.gz
$ cd tomahawk\-x.y.z
$ sudo python setup.py install
.ft P
.fi
.SS tomahawk manual page
.SS SYNOPSIS
.sp
\fBtomahawk\fP [\fIoptions\fP] command
.SS DESCRIPTION
.sp
\fBtomahawk\fP is a program that enables to execute a command into many hosts.
.sp
.nf
.ft C
$ tomahawk \-h host1,host2,host3 uptime
.ft P
.fi
.sp
\-\-\-> "uptime" command will be executed in host1, host2, and host3 with following output.
.sp
.nf
.ft C
oinume@host1 % uptime
22:41:27 up 10 days,  3:26,  1 users,  load average: 1.11, 1.13, 1.11

oinume@host2 % uptime
22:41:28 up 20 days,  4:26,  2 users,  load average: 2.11, 2.13, 2.11

oinume@host3 % uptime
22:41:29 up 30 days,  5:26,  3 users,  load average: 3.11, 3.13, 3.11
.ft P
.fi
.SS hosts file
.sp
\-h option enables you to specify hosts, another option \(aq\-f\(aq, which is specifying hosts files.
hosts file is listing host names like this
.sp
.nf
.ft C
host1
host2
host3
#host4
.ft P
.fi
.sp
Starting with "#" means commenting the host out.
.SS shell operators
.sp
tomahawk executes commands via shell(/bin/sh), so you can use "|" (pipe), &&, || operators and so on.
.sp
.nf
.ft C
$ tomahawk \-h host1,host2 \(aqps auxww | grep python\(aq
.ft P
.fi
.SS OPTIONS
.sp
These programs follow the usual GNU command line syntax, with long options starting with two dashes (\(aq\-\-\(aq).
A summary of options is included below.
For a complete description, see the Info files.
.SS \-h, \-\-hosts
.sp
Specifies host names for sending commands. You can specify multiple hosts with \(aq,\(aq.
.SS \-f, \-\-hosts\-files
.sp
Specifies hosts files which listed host names for sending commands.
You can specify multiple hosts files with \(aq,\(aq.
.sp
Format of hosts file is below.
.sp
.nf
.ft C
web01
web02
#web03
web04
.ft P
.fi
.sp
A line of starting with \(aq#\(aq disables a host.
.SS \-l, \-\-prompt\-login\-password
.sp
DUPLICATED. Use \-P/\-\-prompt\-password. Will be deleted in v0.6.0
.SS \-P, \-\-prompt\-password
.sp
Prompts a password for ssh authentication at first. If the password is all the same between target hosts, you\(aqll input a password just once.
.SS \-\-password\-from\-stdin
.sp
Read a password from stdin instead of prompting.
.SS \-s, \-\-prompt\-sudo\-password
.sp
OBSOLETED. Will be deleted in v0.6.0
.SS \-c, \-\-continue\-on\-error
.sp
Continues to send commands even if any errors.
The default behavior is fail\-safe, means that tomahawk will stop if any errors.
.SS \-p, \-\-parallel
.sp
Specifies a number of processes for parallel command execution. (default: 1)
If your machine has many cpu cores, \-\-parallel 2 .. N might be faster.
.SS \-t, \-\-timeout
.sp
Specifies timeout seconds for a command.
.SS \-\-expect\-timeout
.sp
Duplicated. Use t (\-timeout) instead.
.SS \-u, \-\-ssh\-user
.sp
Specifies ssh user. The default is a current logged in user.
.SS \-o, \-\-ssh\-options
.sp
Specifies ssh options.
.SS \-\-output\-format
.sp
Specifies command output format.
The default is \fI\%'${user}@${host\fP} % ${command}n${output}n\(aq
.SS SEE ALSO
.INDENT 0.0
.IP \(bu 2
\fItomahawk\-rsync(1)\fP
.IP \(bu 2
\fIssh(1)\fP
.IP \(bu 2
\fIscp(1)\fP
.UNINDENT
.SS tomahawk\-rsync manual page
.SS SYNOPSIS
.sp
\fBtomahawk\-rsync\fP [\fIoptions\fP] source destination
.SS DESCRIPTION
.sp
\fBtomahawk\-rsync\fP is a program that enables to copy files <into/from> many hosts.
.sp
.nf
.ft C
$ tomahawk\-rsync \-h host1,host2,host3 test.py /tmp/test.py
.ft P
.fi
.sp
\-\-\-> "test.py" is copied to host1, host2 and host3.
.sp
.nf
.ft C
$ tomahawk\-rsync \-f web.list /usr/local/apache2/conf/httpd.conf /tmp/httpd.conf
.ft P
.fi
.sp
\-\-\-> "httpd.conf" is copied to hosts which listed in "web.list".
.sp
.nf
.ft C
$ tomahawk\-rsync \-h host1,host2 \-m pull /usr/local/apache2/conf/httpd.conf /tmp/conf/
.ft P
.fi
.sp
\-\-\-> "httpd.conf" is copied from host1 and host2 to local directory /tmp/conf as "host1__httpd.conf" and "host2__httpd.conf".
.SS OPTIONS
.sp
These programs follow the usual GNU command line syntax, with long options starting with two dashes (\(aq\-\-\(aq).
A summary of options is included below.
For a complete description, see the Info files.
.SS \-h, \-\-hosts
.sp
Specifies host names for sending commands. You can specify multiple hosts with \(aq,\(aq.
.SS \-f, \-\-hosts\-files
.sp
Specifies hosts files which listed host names for sending commands.
You can specify multiple hosts files with \(aq,\(aq.
.sp
Format of hosts file is below.
.sp
.nf
.ft C
web01
web02
#web03
web04
.ft P
.fi
.sp
A line of starting with \(aq#\(aq disables a host.
.SS \-l, \-\-prompt\-login\-password
.sp
DUPLICATED. Use \-P/\-\-prompt\-password. Will be deleted in v0.6.0
.SS \-P, \-\-prompt\-password
.sp
Prompts a password for ssh authentication at first. If the password is all the same between target hosts, you\(aqll input a password just once.
.SS \-c, \-\-continue\-on\-error
.sp
Continues to send commands even if any errors.
The default behavior is fail\-safe, means that tomahawk will stop if any errors.
.SS \-p, \-\-parallel
.sp
Specifies a number of processes for parallel command execution. (default: 1)
If your machine has many cpu cores, \-\-parallel 2 .. N might be faster.
.SS \-t, \-\-timeout
.sp
Specifies timeout seconds for a command.
.SS \-\-output\-format
.sp
Specifies command output format.
The default is \fI\%'${user}@${host\fP} % ${command}n${output}n\(aq
.SS \-u, \-\-rsync\-user
.sp
Specifies rsync user. The default is a current logged in user.
.SS \-o, \-\-rsync\-options
.sp
Specifies rsync options. The default is \(aq\-avz\(aq
.SS \-m, \-\-mirror\-mode
.sp
Selection of "push" or "pull".
"pull" means copy files from remote to local (default: "push")
.SS SEE ALSO
.INDENT 0.0
.IP \(bu 2
\fItomahawk(1)\fP
.IP \(bu 2
\fIssh(1)\fP
.IP \(bu 2
\fIrsync(1)\fP
.UNINDENT
.INDENT 0.0
.IP \(bu 2
\fIsearch\fP
.UNINDENT
.SH AUTHOR
Kazuhiro Oinuma, Kohei Maeda
.SH COPYRIGHT
2011-2012, Kazuhiro Oinuma
.\" Generated by docutils manpage writer.
.\" 
.
