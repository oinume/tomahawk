.TH "TOMAHAWK" "1" "January 04, 2012" "0.4.4" "tomahawk"
.SH NAME
tomahawk \- enables to execute a command to many hosts
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.\" Man page generated from reStructeredText.
.
.SH SYNOPSIS
.sp
\fBtomahawk\fP [\fIoptions\fP] command
.SH DESCRIPTION
.sp
\fBtomahawk\fP is a program that enables to execute a command into many hosts.
.sp
.nf
.ft C
$ tomahawk \-h host1,host2,host3 uptime
.ft P
.fi
.sp
\-\-\-> "uptime" command will be executed in host1, host2, and host3 with following output.
.sp
.nf
.ft C
oinume@host1 % uptime
22:41:27 up 10 days,  3:26,  1 users,  load average: 1.11, 1.13, 1.11

oinume@host2 % uptime
22:41:28 up 20 days,  4:26,  2 users,  load average: 2.11, 2.13, 2.11

oinume@host3 % uptime
22:41:29 up 30 days,  5:26,  3 users,  load average: 3.11, 3.13, 3.11
.ft P
.fi
.SS hosts file
.sp
\-h option enables you to specify hosts, another option ‘\-f’, which is specifying hosts files.
hosts file is listing host names like this
.sp
.nf
.ft C
host1
host2
host3
#host4
.ft P
.fi
.sp
Starting with "#" means commenting the host out.
.SS shell operators
.sp
tomahawk executes commands via shell(/bin/sh), so you can use "|" (pipe), &&, || operators and so on.
.sp
.nf
.ft C
$ tomahawk \-h host1,host2 \(aqps auxww | grep python\(aq
.ft P
.fi
.SH OPTIONS
.sp
These programs follow the usual GNU command line syntax, with long options starting with two dashes (\(aq\-\-\(aq).
A summary of options is included below.
For a complete description, see the Info files.
.SS \-h, \-\-hosts
.sp
Specifies host names for sending commands. You can specify multiple hosts with \(aq,\(aq.
.SS \-f, \-\-hosts\-files
.sp
Specifies hosts files which listed host names for sending commands.
You can specify multiple hosts files with \(aq,\(aq.
.sp
Format of hosts file is below.
.sp
.nf
.ft C
web01
web02
#web03
web04
.ft P
.fi
.sp
A line of starting with \(aq#\(aq disables a host.
.SS \-l, \-\-prompt\-login\-password
.sp
Prompts a password for ssh authentication at first. If the password is all the same between target hosts, you\(aqll input a password just once.
.SS \-s, \-\-prompt\-sudo\-password
.sp
Prompts a password for sudo explicitly. If the password is all the same between target hosts,
you\(aqll input a password just once.
If commands include "sudo", tomahawk asks sudo password automatically.
.SS \-c, \-\-continue\-on\-error
.sp
Continues to send commands even if any errors.
The default behavior is fail\-safe, means that tomahawk will stop if any errors.
.SS \-p, \-\-parallel
.sp
Specifies a number of processes for parallel command execution. (default: 1)
If your machine has many cpu cores, \-\-parallel 2 .. N might be faster.
.SS \-t, \-\-timeout
.sp
Specifies timeout seconds for a command.
.SS \-\-expect\-timeout
.sp
Duplicated. Use t (\-timeout) instead.
.SS \-u, \-\-ssh\-user
.sp
Specifies ssh user. The default is a current logged in user.
.SS \-o, \-\-ssh\-options
.sp
Specifies ssh options.
.SS \-\-output\-format
.sp
Specifies command output format.
The default is \fI\%'${user}@${host\fP} % ${command}n${output}n\(aq
.SH SEE ALSO
.INDENT 0.0
.IP \(bu 2
\fItomahawk\-rsync(1)\fP
.IP \(bu 2
\fIssh(1)\fP
.IP \(bu 2
\fIscp(1)\fP
.UNINDENT
.SH AUTHOR
Kazuhiro Oinuma, Kohei Maeda
.SH COPYRIGHT
2011, Kazuhiro Oinuma
.\" Generated by docutils manpage writer.
.\" 
.
